# 系统架构与需求分析

# 1. 软件结构体系

## 1.1 系统与子系统

**系统**：泛指由一群有关联的个体组成，根据某种规则运作，能完成个别元件不能单独完成的工作群体。

* **关联**：系统是由一群有关联的个体组成的，没有关联的个体堆在一起不能成为一个系统。
* **规则**：系统内的个体需要按照指定的规则运作，而不是单个个体各自为政。规则制定了系统内个体分工和协作的方式。
* **能力**：系统能力与个体能力有本质的差别，系统能力不是个体能力之和，而是产生新的能力。例如，汽车能够载重前进，而发动机、变速器等个体不具备这样的能力。

**子系统**：子系统也是有一群有关联的个体所组成的系统，多半会是更大一统的一部分。子系统的定义和系统定义是一样的，只是观察的角度有差异，一个系统可能是另外一个更大系统的子系统。

以微信为例：

* 微信本身是一个系统，包括聊天、登录、支付、朋友圈等子系统。

## 1.2 模块、组件、服务

*  **模块**：是一套一致而互相又紧密关联的软件组织。他分别包含了程序和数据结构两部分。现代软件开发往往使用模块作为合成单位。
* **组件**：自包含的、可编程的、可重用的、与语言无关的软件单元，组件可以很容易被用于组装到应用程序中。

模块和组件都是系统的组成部分，只是从不同的角度分解系统而已。例如：

* **从逻辑角度出发来拆分系统后，得到的单元就是“模块”；从物理的角度来拆分系统，得到的单元就是“组件”。**
* **划分模块的主要目的是职责分离；划分组件的主要目的是单元复用。**

例如我们要做一个学生管理系统，这个系统从逻辑的角度来拆分，可以分为：登录注册模块、个人信息模块、个人成绩模块；从物理的角度来拆分，可以分为：应用程序、Nginx、Web服务器、MySQL等。

* **服务**：服务和组件类似：它们都被外部程序所使用。两者之间最大的差异在于：组件是本地使用的（例如jar文件），而服务是运行起来的，要通过同步或者异步的方式的远程接口来远程使用（例如RESTFul接口、Web service、消息系统、RPC、socket等）

服务是可以单独运行的，并且对外提供功能的一种形式。可以将一个复杂的项目分解成多个服务。当某一个服务挂掉时不会拖垮整个系统。如果没有服务化，每当一个新的功能被添加到系统中就会影响所有的功能；如果采取服务化，每个服务只对其上下游的服务负责。

## 1.3 软件架构体系

![image-20230330174712893](https://nanak-img.oss-cn-beijing.aliyuncs.com/img/image-20230330174712893.png)

[软件架构体系](https://www.bilibili.com/video/BV1Tm4y1Z7iH?p=5&spm_id_from=pageDriver&vd_source=9eb37940726d9ecdf615c2bb81a744b3)
